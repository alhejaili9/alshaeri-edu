<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙƒØ´Ù Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† - Ù…Ø¯Ø§Ø±Ø³ Ø§Ù„Ø¹Ù‚ÙŠÙ‚</title>
    <style>
        @page {
            size: A4;
            margin: 0;
        }

        body { 
            font-family: 'Traditional Arabic', serif; 
            background-color: #e0e0e0; 
            margin: 0; 
            padding: 20px 0; 
            -webkit-print-color-adjust: exact;
            font-size: 18px; 
        }

        .container { 
            background-color: #fff; 
            width: 210mm; 
            height: 297mm; 
            margin: 0 auto; 
            padding: 10mm 15mm; 
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            position: relative; 
            box-sizing: border-box;
            border: 6px double #333;
            outline: 2px solid #333;
            outline-offset: -12px;
        }
        
        header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .header-right { 
            text-align: center; 
            line-height: 1.6; 
            font-weight: bold; 
            font-size: 17px; 
            color: #1a1a1a;
            width: 40%;
        }

        .header-left { display: flex; gap: 8px; align-items: center; width: 60%; justify-content: flex-end; }
        .logo-box { width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; }
        .logo-box img { max-width: 100%; max-height: 100%; object-fit: contain; }

        .title-box { text-align: center; margin-bottom: 10px; }
        .main-title { font-size: 24px; font-weight: bold; text-decoration: underline; margin-bottom: 10px; }
        .controls-row { 
            display: flex; justify-content: center; gap: 10px; align-items: center; 
            font-weight: bold; font-size: 16px; background: #f9f9f9; padding: 6px; border: 1px solid #ddd;
        }
        
        .toolbar { width: 210mm; margin: 0 auto 10px auto; display: flex; justify-content: space-between; align-items: center; }
        .sync-option { background: #2c3e50; padding: 8px 15px; border-radius: 5px; font-size: 14px; color: #fff; display: flex; align-items: center; gap: 8px; cursor: pointer; }

        table { width: 100%; border-collapse: collapse; table-layout: fixed; margin-top: 5px; }
        table, th, td { border: 1.5px solid #000; }
        th { background-color: #f2f2f2; padding: 6px 2px; font-size: 15px; color: #000; }
        td { height: 36px; text-align: center; vertical-align: middle; font-size: 16px; }
        
        select, input { width: 100%; border: none; outline: none; background: transparent; font-family: inherit; font-size: 16px; text-align: center; color: #000; -webkit-appearance: none; }

        .footer-sigs { display: flex; justify-content: space-around; margin-top: 30px; text-align: center; }
        .sig-item { width: 30%; font-weight: bold; font-size: 17px; }
        .sig-item input { margin-top: 8px; font-weight: bold; border-bottom: 1px dotted #000; width: 85%; }

        .print-btn { padding: 10px 25px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }

        .hidden-cell { display: none; }

        @media print {
            .toolbar { display: none; }
            body { background: white; padding: 0; margin: 0; }
            .container { 
                box-shadow: none; 
                margin: 0; 
                width: 210mm; 
                height: 297mm;
                border: 6px double #000;
                padding: 10mm 15mm;
            }
            .controls-row { border: 1px solid #000; background: #fff; }
        }
    </style>
</head>
<body>

<div class="toolbar">
    <div class="sync-option">
        <input type="checkbox" id="merge-check" onchange="toggleMerge()" style="width: auto;"> 
        <label for="merge-check">ØªÙØ¹ÙŠÙ„ Ø¯Ù…Ø¬ Ø§Ù„Ù…Ø§Ø¯Ø© ÙˆØ§Ù„ÙˆÙ‚Øª</label>
    </div>
    <button class="print-btn" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙƒØ´Ù Ø§Ù„Ø±Ø³Ù…ÙŠ (A4)</button>
</div>

<div class="container">
    <header>
        <div class="header-right">
            <div>Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</div>
            <div>ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…</div>
            <div>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø¨Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©</div>
            <div>Ù…Ø¯Ø§Ø±Ø³ Ø§Ù„Ø¹Ù‚ÙŠÙ‚ Ø§Ù„Ø£Ù‡Ù„ÙŠØ©</div>
            <div style="font-size: 14px;">(Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©)</div>
        </div>
        <div class="header-left">
            <div class="logo-box"><img src="https://raw.githubusercontent.com/YourUsername/YourRepo/main/ministry-logo.png" alt="ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…"></div>
            <div class="logo-box"><img src="https://raw.githubusercontent.com/YourUsername/YourRepo/main/aqeeq_logo.png" alt="Ù…Ø¯Ø§Ø±Ø³ Ø§Ù„Ø¹Ù‚ÙŠÙ‚"></div>
            <div class="logo-box"><img src="https://raw.githubusercontent.com/YourUsername/YourRepo/main/cog.png" alt="Ø´Ø¹Ø§Ø±"></div>
            <div class="logo-box"><img src="https://raw.githubusercontent.com/YourUsername/YourRepo/main/accr.png" alt="Ø§Ø¹ØªÙ…Ø§Ø¯"></div>
        </div>
    </header>

    <div class="title-box">
        <div class="main-title">ÙƒØ´Ù Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</div>
        <div class="controls-row">
            <span>Ø§Ù„ÙŠÙˆÙ…:</span>
            <select style="width: 70px;"><option>Ø§Ù„Ø£Ø­Ø¯</option><option>Ø§Ù„Ø§Ø«Ù†ÙŠÙ†</option><option>Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡</option><option selected>Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡</option><option>Ø§Ù„Ø®Ù…ÙŠØ³</option></select>
            <span>Ø§Ù„ØªØ§Ø±ÙŠØ®:</span>
            <select id="h-day" style="width: 45px;"></select>
            <select id="h-month" style="width: 100px;"></select>
            <select id="h-year" style="width: 80px;"></select> <span>Ø§Ù„ÙØªØ±Ø©:</span>
            <select style="width: 75px;"><option>Ø§Ù„Ø£ÙˆÙ„Ù‰</option><option>Ø§Ù„Ø«Ø§Ù†ÙŠØ©</option></select>
        </div>
    </div>

    <table>
        <thead>
            <tr>
                <th style="width: 30px;">Ù…</th>
                <th style="width: 190px;">Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù€Ù…</th>
                <th style="width: 55px;">Ø§Ù„Ù„Ø¬Ù†Ø©</th>
                <th>Ø§Ù„Ù…Ù€Ø§Ø¯Ø©</th>
                <th style="width: 65px;">Ù…Ù€Ù†</th>
                <th style="width: 65px;">Ø¥Ù„Ù€Ù‰</th>
                <th style="width: 120px;">Ø§Ù„ØªÙˆÙ‚ÙŠØ¹</th> </tr>
        </thead>
        <tbody id="main-table"></tbody>
    </table>

    <div class="footer-sigs">
        <div class="sig-item"><div>ÙˆÙƒÙŠÙ„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</div><input type="text"></div>
        <div class="sig-item"><div>Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ</div><input type="text"></div>
        <div class="sig-item"><div>Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</div><input type="text"></div>
    </div>
</div>

<script>
    function toAr(num) {
        const id = ['Ù ','Ù¡','Ù¢','Ù£','Ù¤','Ù¥','Ù¦','Ù§','Ù¨','Ù©'];
        return num.toString().replace(/[0-9]/g, w => id[+w]);
    }

    const teachers = [
        "", "Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø¹Ø¨Ø¯Ø§Ù„Ù…Ù†Ø¹Ù… Ø§Ù„Ù†Ø¬Ø§Ø±", "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù…Ù†ØµÙˆØ± Ø§Ù„Ø¹Ù†Ø²ÙŠ", "Ø®Ø§Ù„Ø¯ Ø­Ø§Ù…Ø¯ Ø§Ù„Ø¨Ù„ÙˆÙŠ", 
        "Ù†ÙˆØ§Ù Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­Ø±Ø¨ÙŠ", "Ø¹Ù…Ø§Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø¤ÙˆÙ Ø³Ù„ÙŠÙ…", "Ø§Ø³Ø§Ù…Ù‡ Ø§Ù„Ø­Ø¬ÙŠÙ„ÙŠ", 
        "Ù…Ø­Ù…Ø¯ Ø¹Ø¨Ø¯Ø§Ù„ÙØªØ§Ø­ Ø£Ø¨ÙˆØ®Ø¶ÙŠØ±", "Ø£Ù…ÙŠØ± Ù…Ø­Ù…Ø¯ Ù…Ø±Ø¬Ø§Ù†", "ÙŠØ§Ø³Ø± Ø¹Ø§Ø±Ù Ø§Ø³Ù…Ø§Ø¹ÙŠÙ„", 
        "Ø¹Ø²ÙŠ Ø¹Ø²ÙŠ Ø¹Ù„ÙŠ Ø­Ø³Ù†", "Ø¬Ù…Ø§Ù„ Ø§Ù„Ø­Ø¯Ø§Ø¯", "Ø·Ù„Ø§Ù„ Ø¹ÙŠØ§Ø´ Ø§Ù„Ø¬Ù‡Ù†ÙŠ", 
        "ØºØ§Ø²ÙŠ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­Ø³ÙŠÙ†ÙŠ", "Ø£Ø­Ù…Ø¯ Ø¨Ø´Ø§Ø± Ø¹Ø§Ù„ÙˆÙ‡", "Ù…ØµØ·ÙÙ‰ Ø§Ù„Ø±Ø´ÙŠØ¯ÙŠ"
    ];

    const subjects = ["Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…", "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©", "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "Ø§Ù„Ø¹Ù„ÙˆÙ…", "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©", "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©", "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©", "Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ø§Ù‚Ø¯"];
    const times = ["Ù Ù§:Ù Ù ", "Ù Ù§:Ù£Ù ", "Ù Ù¨:Ù Ù ", "Ù Ù¨:Ù£Ù ", "Ù Ù©:Ù Ù ", "Ù Ù©:Ù£Ù ", "Ù¡Ù :Ù Ù ", "Ù¡Ù :Ù£Ù ", "Ù¡Ù¡:Ù Ù "];
    const hijriMonths = ["Ù…Ø­Ø±Ù…", "ØµÙØ±", "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„", "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø¢Ø®Ø±", "Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰", "Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø¢Ø®Ø±Ø©", "Ø±Ø¬Ø¨", "Ø´Ø¹Ø¨Ø§Ù†", "Ø±Ù…Ø¶Ø§Ù†", "Ø´ÙˆØ§Ù„", "Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©", "Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©"];

    const dSel = document.getElementById('h-day');
    for(let i=1; i<=30; i++) dSel.innerHTML += `<option>${toAr(i)}</option>`;
    
    const mSel = document.getElementById('h-month');
    hijriMonths.forEach(m => mSel.innerHTML += `<option>${m}</option>`);

    const ySel = document.getElementById('h-year');
    for(let i=1447; i<=1455; i++) {
        ySel.innerHTML += `<option>${toAr(i)}Ù‡Ù€</option>`;
    }

    const tbody = document.getElementById('main-table');
    for (let i = 1; i <= 16; i++) {
        let row = document.createElement('tr');
        row.innerHTML = `
            <td>${toAr(i)}</td>
            <td><select>${teachers.map(t => `<option ${t===teachers[i]?'selected':''}>${t}</option>`).join('')}</select></td>
            <td><select><option value=""></option>${Array.from({length:20}, (_,k)=>`<option>${toAr(k+1)}</option>`).join('')}</select></td>
            <td class="merge-subject"><select>${subjects.map(s => `<option>${s}</option>`).join('')}</select></td>
            <td class="merge-time-from"><select>${times.map(t => `<option ${t==='Ù Ù©:Ù Ù '?'selected':''}>${t}</option>`).join('')}</select></td>
            <td class="merge-time-to"><select>${times.map(t => `<option ${t==='Ù¡Ù¡:Ù Ù '?'selected':''}>${t}</option>`).join('')}</select></td>
            <td></td>
        `;
        tbody.appendChild(row);
    }

    function toggleMerge() {
        const isMerged = document.getElementById('merge-check').checked;
        const subCells = document.querySelectorAll('.merge-subject');
        const fromCells = document.querySelectorAll('.merge-time-from');
        const toCells = document.querySelectorAll('.merge-time-to');
        if (isMerged) {
            subCells[0].rowSpan = 16; fromCells[0].rowSpan = 16; toCells[0].rowSpan = 16;
            for (let i = 1; i < 16; i++) { subCells[i].classList.add('hidden-cell'); fromCells[i].classList.add('hidden-cell'); toCells[i].classList.add('hidden-cell'); }
        } else {
            subCells[0].rowSpan = 1; fromCells[0].rowSpan = 1; toCells[0].rowSpan = 1;
            for (let i = 1; i < 16; i++) { subCells[i].classList.remove('hidden-cell'); fromCells[i].classList.remove('hidden-cell'); toCells[i].classList.remove('hidden-cell'); }
        }
    }
</script>
</body>
</html>